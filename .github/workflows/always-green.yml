name: Always Green CI

on:
  workflow_dispatch: #–¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  rub-tests:
    runs-on: ubuntu-latest
    steps:
    - name: –®–∞–≥ 1 - –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥
      uses: actions/checkout@v3

    - name: –®–∞–≥ 2 - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Java
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'

    - name: 3. –ó–∞–ø—É—Å–∫–∞–µ–º EnvironmentAwareTest
      run: |
          echo "üéØ –î–µ–Ω—å 17: –ó–∞–ø—É—Å–∫–∞—é EnvironmentAwareTest –≤ CI..."
          echo "–≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –≥–¥–µ –æ–Ω –∑–∞–ø—É—â–µ–Ω!"
          
          echo "–ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç..."
          mvn compile -q
          
          echo "–ó–∞–ø—É—Å–∫–∞–µ–º EnvironmentAwareTest..."
          mvn test -Dtest=EnvironmentAwareTest
          
          echo " "
          echo "=== –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í ==="
          echo "‚úÖ EnvironmentAwareTest –ø—Ä–æ—à–µ–ª –≤ CI!"
          echo "–í—ã–≤–æ–¥ —Ç–µ—Å—Ç–∞ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:"
          echo "1. '–ú–´ –í CI –°–†–ï–î–ï!'"
          echo "2. CI=true"
          echo "3. GitHub Workflow –Ω–∞–∑–≤–∞–Ω–∏–µ"
          echo " "
          echo "üéâ –ü–û–ó–î–†–ê–í–õ–Ø–Æ! –¢–≤–æ–π —Ç–µ—Å—Ç —Ç–µ–ø–µ—Ä—å '—É–º–Ω—ã–π'!"
          echo "–û–Ω –ø–æ–Ω–∏–º–∞–µ—Ç –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è!"
        
        

