  yaml
  name: Run Selenium Tests

  on:
    push:
      branches: [ main ]

  jobs:
    test:
      runs-on: ubuntu-latest

      steps:
        - name: Checkout code
          uses: actions/checkout@v3

        - name: Set up Java
          uses: actions/setup-java@v3
          with:
            java-version: '11'
            distribution: 'temurin'

        # üî• –í–ê–ñ–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chrome –¥–ª—è GitHub Actions
        - name: Install Chrome and ChromeDriver
          run: |
            echo "=== Installing Chrome for CI ==="
            sudo apt-get update
            sudo apt-get install -y wget gnupg
            
            # –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Google Chrome
            wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo gpg --dearmor -o /usr/share/keyrings/google-chrome-keyring.gpg
            echo "deb [arch=amd64 signed-by=/usr/share/keyrings/google-chrome-keyring.gpg] http://dl.google.com/linux/chrome/deb/ stable main" | sudo tee /etc/apt/sources.list.d/google-chrome.list
            
            sudo apt-get update
            sudo apt-get install -y google-chrome-stable
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
            echo "=== Chrome version ==="
            google-chrome --version
            
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ChromeDriver —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –≤–µ—Ä—Å–∏–∏
            echo "=== Installing ChromeDriver ==="
            CHROME_VERSION=$(google-chrome --version | awk '{print $3}' | cut -d'.' -f1)
            echo "Chrome major version: $CHROME_VERSION"
            
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é ChromeDriver —á–µ—Ä–µ–∑ WebDriverManager
            # –≠—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤
            
            echo "=== System info ==="
            uname -a
            lsb_release -a
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π
        - name: Set ChromeDriver version
          run: |
            echo "CHROME_VERSION_MAJOR=$(google-chrome --version | awk '{print $3}' | cut -d'.' -f1)" >> $GITHUB_ENV

        # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Maven dependencies
        - name: Cache Maven dependencies
          uses: actions/cache@v3
          with:
            path: ~/.m2
            key: maven-${{ hashFiles('**/pom.xml') }}
            restore-keys: |
              maven-

        # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã —Å verbose –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
        - name: Run tests with debug info
          run: |
            echo "=== Running tests in CI ==="
            echo "CHROME_VERSION_MAJOR: ${{ env.CHROME_VERSION_MAJOR }}"
            
            # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
            mvn test \
              -Dchrome.version=${{ env.CHROME_VERSION_MAJOR }} \
              -Dwebdriver.chrome.whitelistedIps= \
              -Dwebdriver.chrome.args="--no-sandbox,--disable-dev-shm-usage,--remote-allow-origins=*" \
              -Dchrome.options.args="--headless=new,--no-sandbox,--disable-dev-shm-usage,--window-size=1920,1080,--remote-allow-origins=*" \
              -Dselenium.LOGGER.level=ALL \
              -e  # –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ Maven