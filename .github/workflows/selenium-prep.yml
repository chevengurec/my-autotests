name: Selenium Preparation Test

on:
  workflow_dispatch:  # –¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  selenium-prep:
    runs-on: ubuntu-latest

    steps:
      - name: 1. –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥
        uses: actions/checkout@v3

      - name: 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Java
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'temurin'

      - name: 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        run: |
          echo "=== –î–ï–ù–¨ 18: –ü–û–î–ì–û–¢–û–í–ö–ê SELENIUM –î–õ–Ø CI ==="
          echo "–°–µ–≥–æ–¥–Ω—è –º—ã –ù–ï –∑–∞–ø—É—Å–∫–∞–µ–º –±—Ä–∞—É–∑–µ—Ä, —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º!"
          
          echo "–ü—Ä–æ–≤–µ—Ä—è–µ–º pom.xml –Ω–∞ Selenium –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
          grep -n "selenium\|webdrivermanager" pom.xml || echo "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ pom.xml"

      - name: 4. –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç —Å Selenium
        run: |
          echo "–ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç (–≤–∫–ª—é—á–∞—è Selenium —Ç–µ—Å—Ç—ã)..."
          mvn compile
          
          echo "‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ = Selenium –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ!"

      - name: 5. –ó–∞–ø—É—Å–∫–∞–µ–º SeleniumPreparatoryTest
        run: |
          echo "–ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ Selenium —Ç–µ—Å—Ç—ã..."
          echo "–≠—Ç–∏ —Ç–µ—Å—Ç—ã –ù–ï –∑–∞–ø—É—Å–∫–∞—é—Ç –±—Ä–∞—É–∑–µ—Ä, —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!"
          
          mvn test -Dtest=SeleniumPreparatoryTest
          
          echo " "
          echo "üéâ –í–ê–ñ–ù–´–ô –≠–¢–ê–ü –ü–†–û–ô–î–ï–ù!"
          echo "1. Selenium –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã ‚úÖ"
          echo "2. –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è ‚úÖ"
          echo "3. –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞ ‚úÖ"
          echo " "
          echo "–ó–∞–≤—Ç—Ä–∞ (–î–µ–Ω—å 19) –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–º Chrome –∏ –∑–∞–ø—É—Å—Ç–∏–º headless –±—Ä–∞—É–∑–µ—Ä!"

      - name: 6. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ
        run: |
          echo "=== –ß–¢–û –î–ê–õ–¨–®–ï? ==="
          echo "–î–µ–Ω—å 19: –£—Å—Ç–∞–Ω–æ–≤–∏–º Chrome –≤ CI"
          echo "–î–µ–Ω—å 20: –ó–∞–ø—É—Å—Ç–∏–º —Ä–µ–∞–ª—å–Ω—ã–π headless –±—Ä–∞—É–∑–µ—Ä"
          echo "–î–µ–Ω—å 21: –ù–∞–ø–∏—à–µ–º –ø–µ—Ä–≤—ã–π UI —Ç–µ—Å—Ç –≤ CI"
          echo " "
          echo "–¢—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ú–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ üöÄ"